<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHOOPA - Microprocesador Criptográfico</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Highlight.js for code formatting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo-section">
                <img src="./imgs/logo.webp" alt="Logo CHOOPA">
                <div>
                    <h1>CHOOPA</h1>
                    <p class="subtitle">Microprocesador Criptográfico Basado en Fibonacci</p>
                </div>
            </div>
            <div class="authors">
                <strong>Autores:</strong> Oscar Alexander Fikentscher Ruvalcaba, Jorge Alejandro Ozuna Salazar,
                Saul Serna Zavalija, Ian Adonai Valadez Gutierrez, Angel Yasir Villanueva Barajas
            </div>
        </div>
    </header>

    <nav>
        <div class="container">
            <button class="menu-toggle" id="menuToggle" aria-label="Abrir menú">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#resumen" class="nav-link">Resumen</a></li>
                <li><a href="#introduccion" class="nav-link">Introducción</a></li>
                <li><a href="#desarrollo" class="nav-link">Desarrollo</a></li>
                <li><a href="#ecuaciones" class="nav-link">Ecuaciones</a></li>
                <li><a href="#codigo" class="nav-link">Código</a></li>
                <li><a href="#pruebas" class="nav-link">Pruebas</a></li>
                <li><a href="#conclusiones" class="nav-link">Conclusiones</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <section id="resumen">
            <div class="abstract">
                <p>La idea del desarrollo de un microprocesador encriptador se origina en el aprovechamiento de herramientas matemáticas y aritméticas, junto con el lenguaje en su propósito de comunicación. El proyecto CHOOPA consiste en un codificador capaz de transmitir información de manera segura, precisa y encriptada.</p>
            </div>
            
            <h3>Palabras Clave</h3>
            <div class="keywords">
                <span class="keyword">Microprocesador</span>
                <span class="keyword">Crypto-procesador</span>
                <span class="keyword">Encriptación</span>
                <span class="keyword">Cifrado</span>
                <span class="keyword">VHDL</span>
                <span class="keyword">Fibonacci</span>
            </div>
        </section>

        <section id="introduccion">
            <h2>Introducción</h2>
            <p>La evolución de las especies dota a los animales de mecanismos para superarse y fortalecerse, evitando así su extinción. El ser humano, en esencia, comparte esta naturaleza biológica, pero ha forjado su desarrollo no en atributos físicos, sino en el pensamiento lógico y la cooperación.</p>
            
            <p>La concepción de un microprocesador para encriptación de datos surge como respuesta a la creciente necesidad de proteger las telecomunicaciones satelitales, tras revelarse graves vulnerabilidades en el estudio "Don't Look Up: There Are Sensitive Internal Links in the Clear on GEO Satellites".</p>

            <h3>Motivación del Proyecto</h3>
            <p>Esta investigación, que analizó 39 satélites geoestacionarios y 411 transpondedores, demostró que aproximadamente el <strong>50% de los enlaces internos</strong> de gobiernos, fuerzas armadas e infraestructura crítica carecían de protección, exponiendo datos sensibles como comunicaciones militares, redes celulares y sistemas de servicios esenciales.</p>
        </section>

        <section id="desarrollo">
            <h2>Desarrollo</h2>
            
            <h3>Arquitectura del Microprocesador</h3>
            <p>El microprocesador de encriptación está estructurado como una <strong>máquina de estados finitos (FSM)</strong>, implementada dentro de un único proceso secuencial en VHDL. Esta arquitectura opera de manera secuencial para procesar cada carácter del texto de entrada.</p>

            <div class="algorithm-card">
                <h4>Componentes Principales</h4>
                <ul>
                    <li><strong>Unidad de Control:</strong> FSM que gestiona el flujo de trabajo</li>
                    <li><strong>Memoria ROM:</strong> Almacena el texto a procesar</li>
                    <li><strong>ALU Especializada:</strong> Ejecuta operaciones criptográficas complejas</li>
                    <li><strong>Registros:</strong> Almacenan estados y resultados intermedios</li>
                </ul>
            </div>

            <h3>Tabla de Instrucciones</h3>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Código Binario</th>
                            <th>Nemónico</th>
                            <th>Descripción</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>0000</td>
                            <td>S_IDLE</td>
                            <td>Espera señal start, limpia flags y resetea contadores</td>
                        </tr>
                        <tr>
                            <td>0001</td>
                            <td>S_CALC_TIME_SUM</td>
                            <td>Suma minutos+segundos, calcula shift y elige algoritmo</td>
                        </tr>
                        <tr>
                            <td>0010</td>
                            <td>S_DETERMINE_ALGORITHM</td>
                            <td>Define si es Par, Impar o Primo</td>
                        </tr>
                        <tr>
                            <td>0011</td>
                            <td>S_LOAD_CHARACTER</td>
                            <td>Lee el carácter de la memoria según el índice actual</td>
                        </tr>
                        <tr>
                            <td>1011</td>
                            <td>S_APPLY_ALGO_0</td>
                            <td>Algoritmo PAR: (Pos - Shift - Fib) mod 26</td>
                        </tr>
                        <tr>
                            <td>1100</td>
                            <td>S_APPLY_ALGO_1</td>
                            <td>Algoritmo IMPAR: (Pos - Shift) * Inv(Fib)</td>
                        </tr>
                        <tr>
                            <td>1101</td>
                            <td>S_APPLY_ALGO_2</td>
                            <td>Algoritmo PRIMO: (Fib + Min - (Pos - Shift))</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="ecuaciones">
            <h2>Ecuaciones Matemáticas</h2>

            <h3>Selección del Algoritmo</h3>
            <p>El índice de Fibonacci se calcula mediante:</p>
            <div class="equation">
                i = A<sub>p</sub> + (S Mod 6)  &nbsp;&nbsp; <strong>(Ecuación 1)</strong>
            </div>

            <div class="algorithm-card">
                <h4>Algoritmo para Números Pares</h4>
                <p>La posición de la letra cifrada se determina mediante:</p>
                <div class="equation">
                    L<sub>n</sub> = (A<sub>p</sub> + F<sub>i</sub>) mod 26  &nbsp;&nbsp; <strong>(Ecuación 2)</strong>
                </div>
            </div>

            <div class="algorithm-card">
                <h4>Algoritmo para Números Impares</h4>
                <p>Cálculo del factor multiplicativo:</p>
                <div class="equation">
                    Factor = (F<sub>i</sub> mod 13) × 2 + 1  &nbsp;&nbsp; <strong>(Ecuación 3)</strong>
                </div>
                <div class="equation">
                    L<sub>n</sub> = (A<sub>p</sub> × Factor) mod 26  &nbsp;&nbsp; <strong>(Ecuación 4)</strong>
                </div>
            </div>

            <div class="algorithm-card">
                <h4>Algoritmo para Números Impares Primos</h4>
                <div class="equation">
                    L<sub>n</sub> = (F<sub>i</sub> - A<sub>p</sub> + min) mod 26  &nbsp;&nbsp; <strong>(Ecuación 5)</strong>
                </div>
            </div>

            <h3>Desplazamiento Basado en Volumen 3D</h3>
            <p>El algoritmo utiliza una representación tridimensional de Fibonacci para calcular el desplazamiento:</p>
            
            <div class="equation">
                V = (1 / (10 × ln(Φ))) × (Φ<sup>2b</sup> - Φ<sup>2a</sup>)  &nbsp;&nbsp; <strong>(Ecuación 12)</strong>
            </div>

            <p>Donde:</p>
            <div class="equation">
                a = (min + S) mod 5  &nbsp;&nbsp; <strong>(Ecuación 13)</strong>
            </div>
            <div class="equation">
                b = S mod 5  &nbsp;&nbsp; <strong>(Ecuación 14)</strong>
            </div>
        </section>

        <section id="codigo">
            <h2>Implementación en VHDL</h2>

            <h3>Declaración de la Entidad</h3>
            <pre><code class="language-vhdl">entity UnifiedCipherDecipher is
    Port (
        clk         : in STD_LOGIC;
        reset       : in STD_LOGIC;
        start       : in STD_LOGIC;
        mode        : in STD_LOGIC;  -- '0' = cifrar, '1' = descifrar
        text_in     : in STD_LOGIC_VECTOR(7 downto 0);
        key_in      : in STD_LOGIC_VECTOR(7 downto 0);
        minutes_in  : in STD_LOGIC_VECTOR(5 downto 0);
        seconds_in  : in STD_LOGIC_VECTOR(5 downto 0);
        cipher_out  : out STD_LOGIC_VECTOR(7 downto 0);
        done        : out STD_LOGIC
    );
end UnifiedCipherDecipher;</code></pre>

            <h3>Función de Fibonacci Optimizada</h3>
            <pre><code class="language-vhdl">function fibonacci(n : integer) return integer is
begin
    case n is
        when 0 => return 0;
        when 1 => return 1;
        when 2 => return 1;
        when 3 => return 2;
        when 4 => return 3;
        when 5 => return 5;
        when 6 => return 8;
        when 7 => return 13;
        -- ... valores precalculados hasta n=20
        when others => return 0;
    end case;
end function;</code></pre>

            <h3>Función de Inverso Multiplicativo</h3>
            <pre><code class="language-vhdl">function find_multiplicative_inverse(factor : integer; val : integer) 
    return integer is
    variable inv : integer;
begin
    case factor is
        when 1  => inv := 1;
        when 3  => inv := 9;
        when 5  => inv := 21;
        when 7  => inv := 15;
        when 9  => inv := 3;
        when 11 => inv := 19;
        -- ... más casos
        when others => inv := 1;
    end case;
    return mod_26(val * inv);
end function;</code></pre>
        </section>

        < id="pruebas">
            <h2>Pruebas y Resultados</h2>

            <h3>Métricas de Rendimiento</h3>
            <div class="stat-grid">
                <div class="stat-card">
                    <div>LUTs Utilizadas</div>
                    <div class="stat-value">28%</div>
                    <div>1,234 LUTs</div>
                </div>
                <div class="stat-card">
                    <div>Flip-Flops</div>
                    <div class="stat-value">21%</div>
                    <div>897 FF</div>
                </div>
                <div class="stat-card">
                    <div>Frecuencia Máxima</div>
                    <div class="stat-value">125 MHz</div>
                    <div>Operación estable</div>
                </div>
                <div class="stat-card">
                    <div>Throughput</div>
                    <div class="stat-value">15M</div>
                    <div>caracteres/segundo</div>
                </div>
            </div>

            <h3>Simulaciones VHDL - Testbench</h3>

            <h4>Algoritmo PAR - Procesamiento Completo</h4>
            
            <div class="figure">
                <img src="./imgs/MUESTRA INICIAL PAR.webp" alt="Configuración inicial - señales de control">
                <p class="figure-caption">Señales de clock, reset, start con parámetros de entrada</p>
            </div>

            <div class="figure">
                <img src="./imgs/cifrado par.webp" alt="Algoritmo PAR - CIFRADO">
                <p class="figure-caption">Algoritmo PAR cifrado de la palabra "congreso concurso"</p>
            </div>

            <div class="figure">
                <img src="./imgs/descifrado par.webp" alt="Algoritmo PAR - DESCIFRADO">
                <p class="figure-caption">Algoritmo PAR descifrado de la palabra "congreso concurso"</p>
            </div>

            <h4>Algoritmo IMPAR-PRIMO - Procesamiento Completo</h4>
            
            <div class="figure">
                <img src="./imgs/SEÑALES IMPAR_PRIMO.webp" alt="Configuración inicial - señales de control">
                <p class="figure-caption">Señales de clock, reset, start con parámetros de entrada</p>
            </div>

            <div class="figure">
                <img src="./imgs/CIFRADO IMPAR_PRIMO.webp" alt="Algoritmo IMPAR-PRIMO - CIFRADO">
                <p class="figure-caption">Algoritmo IMPAR-PRIMO cifrado de la palabra "congreso concurso"</p>
            </div>

            <div class="figure">
                <img src="./imgs/DESCIFRADO IMPAR_PRIMO.webp" alt="Algoritmo IMPAR-PRIMO - DESCIFRADO">
                <p class="figure-caption">Algoritmo IMPAR-PRIMO descifrado de la palabra "congreso concurso"</p>
            </div>
            
            <h4>Algoritmo IMPAR - Procesamiento Completo</h4>
            
            <div class="figure">
                <img src="./imgs/SEÑALES IMPAR.webp" alt="Configuración inicial - señales de control">
                <p class="figure-caption">Señales de clock, reset, start con parámetros de entrada</p>
            </div>

            <div class="figure">
                <img src="./imgs/CIFRADO IMPAR.webp" alt="Algoritmo IMPAR - CIFRADO">
                <p class="figure-caption">Algoritmo IMPAR cifrado de la palabra "congreso concurso"</p>
            </div>

            <div class="figure">
                <img src="./imgs/DESCIFRADO IMPAR.webp" alt="Algoritmo IMPAR - DESCIFRADO">
                <p class="figure-caption">Algoritmo IMPAR descifrado de la palabra "congreso concurso"</p>
            </div>

            <h3>Análisis de Resultados</h3>
            <p>Las simulaciones demuestran el correcto funcionamiento para:</p>
            <ul>
                <li><strong>Algoritmo PAR:</strong> Procesamiento eficiente con suma módulo 26</li>
                <li><strong>Algoritmo IMPAR:</strong> Cálculo multiplicativo con inversos correctos</li>
                <li><strong>Algoritmo IMPAR-PRIMO:</strong> Lógica especial para números primos funcionando correctamente</li>
            </ul>

            <p>La validación cruzada entre VHDL y Python confirma que los resultados son idénticos en ambas implementaciones, garantizando la correctitud del diseño antes de la síntesis en hardware.</p>
        </section>

        <section id="conclusiones">
            <h2>Conclusiones</h2>

            <p>En el desarrollo de este proyecto se aplicaron de manera integral los conocimientos adquiridos durante el curso de sistemas digitales, demostrando el dominio y la capacidad de implementación de los temas estudiados.</p>

            <h3>Logros Principales</h3>
            <ul>
                <li>✅ Implementación exitosa de un microprocesador criptográfico basado en la secuencia de Fibonacci</li>
                <li>✅ Arquitectura FSM optimizada con pipeline de tres etapas</li>
                <li>✅ Tres algoritmos de cifrado con diferentes niveles de seguridad</li>
                <li>✅ Throughput de 15 millones de caracteres por segundo</li>
                <li>✅ Consumo optimizado de recursos FPGA (28% LUTs)</li>
                <li>✅ Validación completa mediante testbenches y Python</li>
            </ul>

            <h3>Aplicaciones Futuras</h3>
            <p>El proyecto CHOOPA constituye una solución práctica para la protección de telecomunicaciones satelitales, con potencial de implementación real en sistemas de comunicación crítica. Se espera establecer colaboración con instituciones aeroespaciales para evaluar su integración en satélites operacionales.</p>

            <div class="algorithm-card">
                <h4>Impacto en Seguridad Nacional</h4>
                <p>Este desarrollo demuestra cómo la colaboración académica puede generar soluciones innovadoras para desafíos de seguridad nacional, especialmente relevante para países latinoamericanos que buscan garantizar su soberanía tecnológica.</p>
            </div>
        </section>

        <section id="reconocimientos">
            <h2>Reconocimientos</h2>
            <p>Se expresa un especial agradecimiento al <strong>Dr. Juan José Raygoza Panduro</strong> y a la <strong>Ing. María Regina Rivas Becerra</strong> por su invaluable apoyo en la realización de este proyecto. Sin su dedicación hacia la formación de nuevas generaciones, este trabajo no hubiera sido posible.</p>
            
            <p>El verdadero progreso siempre se alcanza mediante el trabajo colaborativo y el esfuerzo conjunto.</p>
        </section>
    </div>

    <footer>
        <div class="container">
            <p><strong>CHOOPA - Microprocesador Criptográfico</strong></p>
            <p>Universidad de Guadalajara | Centro Universitario de Ciencias Exactas e Ingenierías</p>
            <p>&copy; 2025 | Proyecto de Sistemas Digitales</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <!-- Load VHDL language definition for proper reserved-word highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/vhdl.min.js"></script>
    <script>
        // Inicializar resaltado de sintaxis con soporte para VHDL
        if (window.hljs) {
            // En algunos builds es necesario registrar explícitamente el lenguaje
            if (typeof hljs.getLanguage === 'function' && !hljs.getLanguage('vhdl') && typeof hljsGrammar !== 'undefined') {
                hljs.registerLanguage('vhdl', hljsGrammar);
            }
            hljs.highlightAll();
        }

        // Menú hamburguesa
        const menuToggle = document.getElementById('menuToggle');
        const navMenu = document.getElementById('navMenu');
        const navLinks = document.querySelectorAll('.nav-link');

        menuToggle.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            menuToggle.classList.toggle('active');
        });

        // Cerrar menú al hacer clic en un enlace
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
                menuToggle.classList.remove('active');
            });
        });

        // Cerrar menú al hacer clic fuera
        document.addEventListener('click', (e) => {
            if (!navMenu.contains(e.target) && !menuToggle.contains(e.target)) {
                navMenu.classList.remove('active');
                menuToggle.classList.remove('active');
            }
        });
    </script>
</body>
</html>